# Data Directory Structure

This directory contains all input data, intermediate processing outputs, and the final RAG database.

## Directory Layout

```
data/
├── ucg23_raw/              # Raw input PDF files (not in git - see below)
│   └── Uganda_Clinical_Guidelines_2023.pdf
├── docling_outputs/        # Docling parser outputs (generated, not in git)
├── exports/                # Human-readable exports for validation (generated)
├── intermediate/           # Intermediate processing files (generated)
├── qa_reports/             # QA validation reports (generated)
└── ucg23_rag.db           # Final SQLite database with embeddings (generated)
```

## Important Notes

### Raw Input Data (ucg23_raw/)

**The Uganda Clinical Guidelines 2023 PDF is NOT included in this repository.**

This is copyrighted medical content published by the Uganda Ministry of Health. To use this pipeline:

1. Download the official UCG-23 PDF from the Uganda Ministry of Health
2. Place it in `data/ucg23_raw/` with the exact filename:
   ```
   Uganda_Clinical_Guidelines_2023.pdf
   ```
3. Verify the file is the 2023 version before running the pipeline

### Generated Files

All other files in this directory are generated by the ETL pipeline and are not tracked in git:

- **docling_outputs/**: JSON and markdown outputs from the Docling parser (Step 1)
- **exports/**: Section hierarchy trees and validation exports (Steps 2-7)
- **intermediate/**: Temporary processing files (various steps)
- **qa_reports/**: Quality assurance and validation reports (Step 7)
- **ucg23_rag.db**: Final portable SQLite database with vector embeddings (Step 6)

### Running the Pipeline

After placing the UCG-23 PDF in `ucg23_raw/`, run the pipeline:

```bash
# Run all steps
python src/main.py

# Or run individual steps
python src/pipeline/step0_registration.py
python src/pipeline/step1_parsing.py
python src/pipeline/step2_segmentation.py
python src/pipeline/step3_cleanup.py
python src/pipeline/step5_chunking.py
python src/pipeline/step6_embeddings.py
python src/pipeline/step7_qa.py
```

The final `ucg23_rag.db` file contains the complete RAG database ready for deployment.

## Database Portability

The final SQLite database (`ucg23_rag.db`) is:
- **Portable**: Single file, works on any platform
- **Self-contained**: Includes full text content + vector embeddings
- **Offline-ready**: No API calls needed after generation
- **Versioned**: Includes checksums and metadata for reproducibility

Share the database file for offline clinical RAG applications.
